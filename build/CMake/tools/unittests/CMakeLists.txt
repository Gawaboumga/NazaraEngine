project("UnitTests")

set(NAZARA_SOURCE_TESTS_DIRECTORY ${NAZARA_TESTS_DIRECTORY})

add_definitions(-DNAZARA_RENDERER_OPENGL)

include_directories(
		${NAZARA_INCLUDE_DIRECTORY}
		${NAZARA_EXTLIBS_INCLUDE_DIRECTORY}
	)

file(GLOB TESTS_SOURCE
		${NAZARA_SOURCE_TESTS_DIRECTORY}*.cpp
		${NAZARA_SOURCE_TESTS_DIRECTORY}Engine/Audio/*.cpp
		${NAZARA_SOURCE_TESTS_DIRECTORY}Engine/Core/*.cpp
		${NAZARA_SOURCE_TESTS_DIRECTORY}Engine/Graphics/*.cpp
		${NAZARA_SOURCE_TESTS_DIRECTORY}Engine/Math/*.cpp
		${NAZARA_SOURCE_TESTS_DIRECTORY}Engine/Network/*.cpp
	)

set(EXEC_NAME "NazaraUnitTests")

link_directories(${NAZARA_LIBRARY_DIRECTORY})

set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${NAZARA_TESTS_OUTPUT_DIRECTORY})

add_executable(${EXEC_NAME} ${TESTS_SOURCE})

target_link_libraries(${EXEC_NAME}
		${NAZARA_LIB_AUDIO}
		${NAZARA_LIB_CORE}
		${NAZARA_LIB_GRAPHICS}
		${NAZARA_LIB_LUA}
		${NAZARA_LIB_PHYSICS}
		${NAZARA_LIB_NETWORK}
		${NAZARA_LIB_RENDERER}
		${NAZARA_LIB_UTILITY}
	)
