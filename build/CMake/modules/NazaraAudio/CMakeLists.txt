project("NazaraAudio")

set (OS_AUDIO_SPECIFICATION "OpenAL")

set(NAZARA_SOURCE_CORE_DIRECTORY ${NAZARA_SOURCE_DIRECTORY}Nazara/Audio/)

if(${OS_AUDIO_SPECIFICATION} STREQUAL OpenAL)
	add_definitions(-DNAZARA_AUDIO_OPENAL)
endif()

include_directories(
		${NAZARA_INCLUDE_DIRECTORY}
		${NAZARA_SOURCE_DIRECTORY}
		${NAZARA_EXTLIBS_INCLUDE_DIRECTORY}
	)

file(GLOB AUDIO_SOURCE
		${NAZARA_SOURCE_CORE_DIRECTORY}Debug/*.cpp
		${NAZARA_SOURCE_CORE_DIRECTORY}Formats/*.cpp
		${NAZARA_SOURCE_CORE_DIRECTORY}*.cpp
	)

set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${NAZARA_LIBS_OUTPUT_DIRECTORY})

add_library(${NAZARA_LIBRARY_NAME}Audio${NAZARA_LIBRARY_EXTENSION} ${BUILD_SHARED_LIBS} ${AUDIO_SOURCE})

if (UNIX)
	target_link_libraries(${NAZARA_LIBRARY_NAME}Audio${NAZARA_LIBRARY_EXTENSION}
		"sndfile"
	)
elseif (WIN32)
	target_link_libraries(${NAZARA_LIBRARY_NAME}Audio${NAZARA_LIBRARY_EXTENSION}
		"sndfile-1"
	)
else ()
	message(SEND_ERROR "No OS implementation")
endif ()

